<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>

</h:head>

<h:body>
	<ui:composition template="/template/backend.xhtml">
		<ui:define name="titre">Nouvelle campagne</ui:define>

		<ui:define name="contenu">
			<!-- page start-->

			<aside class="profile-nav alt green-border">
				<section class="panel">
					<div class="user-heading alt green-bg">
						<a href="#"> <h:graphicImage library="img"
								name="profile-avatar.jpg" /></a>
						<h1>Jonathan Smith</h1>
						<p>jsmith@flatlab.com</p>
					</div>

					<ul class="nav nav-pills nav-stacked">
						<li><a href="#myModal" data-toggle="modal"><i
								class="icon-money"></i> <span
								class="label label-primary pull-right r-activity">Paiement</span></a></li>
					</ul>

				</section>
			</aside>

			<section class="panel">
				<header class="panel-heading">
					<h3>Paiements</h3>
				</header>
				<div class="panel-body">
					<div class="adv-table editable-table ">

						<div class="space15"></div>
						<table class="table table-striped table-hover table-bordered"
							id="editable-sample">
							<thead>
								<tr>
									<th>Date</th>
									<th>Montant</th>
								</tr>
							</thead>
							<tbody>

								<ui:repeat var="paid" value="#{paiementBean.paiements}">

									<tr class="">
										<td><h:outputText value="#{paid.date}">
												<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
											</h:outputText></td>
										<td><h:outputText value="#{paid.montant}">
												<f:convertNumber pattern="#0.00" />
											</h:outputText>
										</td>																											
									</tr>
								</ui:repeat>
                              </tbody>
                          </table>
                      </div>
                  </div>
              </section>

			<!--  pop pour les paiements -->
			<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog"
				tabindex="-1" id="myModal" class="modal fade">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button aria-hidden="true" data-dismiss="modal" class="close"
								type="button">Ã—</button>
							<h4 class="modal-title">Nouveau paiement</h4>
						</div>
						<div class="modal-body" style="height: 200px">


							<h:form id="formText">

								<div class="form-group">
									<label for="exampleInputPassword1">Date</label>
									<h:inputText p:type="date" styleClass="form-control"
										label="La date" id="adate"
										value="#{paiementBean.paiement.date}">
										<f:convertDateTime type="date" pattern="yyyy-MM-dd" />
									</h:inputText>
									<h:message styleClass="help-block" for="adate"
										style="color:red" />
								</div>

								<div class="form-group">
									<label>Montant</label>
									<h:inputText styleClass="form-control" id="amontant"
										value="#{paiementBean.paiement.montant}" label="Le montant"> 
										<f:convertNumber integerOnly="true" />
									</h:inputText>
									<p class="help-block">
										<h:message for="amontant" style="color:red" />
									</p>
								</div>


								<h:commandButton styleClass="btn btn-info pull-right"
									value="Ajouter"
									actionListener="#{paiementBean.addPaiement}" />
							</h:form>

						</div>
					</div>
				</div>
			</div>
			<!-- page end-->
		</ui:define>
	</ui:composition>

</h:body>
</html>